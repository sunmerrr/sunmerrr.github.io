---
title: "Time Sort"
excerpt: "ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹œê°„ ì •ë ¬"

categories:
  - JavaScript
tags:
  - [array, sort, javascript, compare]

toc: true
toc_sticky: true
 
date: 2022-03-11
last_modified_at: 2022-03-13
---

## ì‹œê°„ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
  - ê³¼ê±°ë¡œë¶€í„° ì‹œê°„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ìˆë‹¤.
    - `new Date()` ì‚¬ìš©
      ```jsx
      const schedules = [
        { id : 1, schedule : '2021-03-13T11:00:00.000Z' }, 
        { id : 2, schedule : '2019-01-13T05:00:00.000Z' },
        { id : 3, schedule : '2022-04-22T00:00:00.000Z' },
        { id : 4, schedule : '2011-04-16T12:00:00.000Z' }
      ];

      schedules.sort((a,b)=> {
        a = new Date(a.schedule);
        b = new Date(b.schedule);
        return a - b;
      });
      ```
      - ê²°ê³¼ê°’ <br>
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-03-12 á„‹á…©á„’á…® 11 49 42](https://user-images.githubusercontent.com/65106740/158023277-70969cc9-8236-4ab1-aa17-b31321ce9e4d.png)

    - `moment.js` ì‚¬ìš©
      ```jsx
      const schedules = [
        { id : 1, schedule : '2021-10-01T11:00:00.000Z' }, 
        { id : 2, schedule : '2021-01-13T05:00:00.000Z' },
        { id : 3, schedule : '2025-04-22T00:00:00.000Z' },
        { id : 4, schedule : '2019-09-16T12:00:00.000Z' }
      ];

      schedules.sort((a,b)=> {
        a = moment(a.schedule);
        b = moment(b.schedule);
        return a - b;
      });
      ```

      - ê²°ê³¼ê°’<br>
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-03-13 á„‹á…©á„Œá…¥á†« 12 09 21](https://user-images.githubusercontent.com/65106740/158023507-dcd75ad8-83a1-4691-b35f-49fdf5ad68d8.png)


## ì˜¤ëŠ˜ ë‚ ì§œì™€ ë¹„êµí•œ ì‹œê°„ ì •ë ¬
  - ì˜¤ëŠ˜ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚ ì§œë¥¼ ì •ë ¬í•´ë³´ë ¤ê³  í•œë‹¤.
  - ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•  ê²½ìš° ì•„ì§ ì§€ë‚˜ì§€ ì•Šì€ ë‚ ì§œê°€ -(ë§ˆì´ë„ˆìŠ¤)ë¡œ í‘œê¸°ëœë‹¤ëŠ” ì ì„ ì£¼ì˜í•˜ì
  - ì¡°ê±´ 
    1. ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ ì•„ì§ ì§€ë‚˜ì§€ ì•Šì€ ë‚ ì§œ ì¤‘ ê°€ì¥ ê°€ê¹Œìš´ ë‚ ì§œë¥¼ ë” ë¨¼ ë‚ ì§œë³´ë‹¤ ì•ìœ¼ë¡œ ëº€ë‹¤
    2. ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ ì´ë¯¸ ì§€ë‚œ ë‚ ì§œ ì¤‘ ê°€ì¥ ìµœê·¼ ë‚ ì§œë¥¼ ë” ì˜¤ë˜ëœ ë‚ ì§œë³´ë‹¤ ì•ìœ¼ë¡œ ëº€ë‹¤.

    - `new Date()` ì‚¬ìš©
      ```jsx
      const today = new Date()
      const schedules = [
        { id : 1, schedule : '2021-10-01T11:00:00.000Z' }, 
        { id : 2, schedule : '2022-05-13T05:00:00.000Z' },
        { id : 3, schedule : '2025-04-22T00:00:00.000Z' },
        { id : 4, schedule : '2019-09-16T12:00:00.000Z' }
      ];

      schedules.sort((a, b) => {
        a = new Date(a.schedule)
        b = new Date(b.schedule)
        a = Math.floor((today - a) / (1000 * 60 * 60 * 24)) 
        b = Math.floor((today - b) / (1000 * 60 * 60 * 24))
        
        
        if (a < 0) {  // ê¸°ì¤€ê°’ì´ ì•„ì§ ì§€ë‚˜ì§€ ì•Šì€ ë‚ ì§œì´ê³ ,
          if (b < 0) {  // ë¹„êµê°’ë„ ì•„ì§ ì§€ë‚˜ì§€ ì•Šì€ ë‚ ì§œì¼ ê²½ìš° ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
            return b - a;
          } else {  // ë¹„êµê°’ì´ ì§€ë‚œ ë‚ ì§œì¼ ê²½ìš°ì—ëŠ” ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
            return a - b;
          }
        } else {  // ê¸°ì¤€ê°’ê³¼ ë¹„êµê°’ì´ ëª¨ë‘ ì§€ë‚œ ë‚ ì§œì¼ ê²½ìš°ì—ëŠ” ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
          return a - b;
        }
        return 0
        })
      ```
      - date íƒ€ì…ì˜ ê²½ìš° -(ë§ˆì´ë„ˆìŠ¤) ì—°ì‚°ìë¥¼ í†µí•´ ìˆ«ìë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.
      - ê²°ê³¼ê°’<br>
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-03-13 á„‹á…©á„’á…® 5 49 12](https://user-images.githubusercontent.com/65106740/158052124-1a868b4e-3781-460e-8e1e-2df4f9df5158.png)



    - `moment.js` ì‚¬ìš©
      ```jsx
      const today = moment().format('YYYY-MM-DD HH:mm:ss');
      const schedules = [
        { id : 1, schedule : '2021-10-01T11:00:00.000Z' }, 
        { id : 2, schedule : '2022-05-13T05:00:00.000Z' },
        { id : 3, schedule : '2025-04-22T00:00:00.000Z' },
        { id : 4, schedule : '2019-09-16T12:00:00.000Z' }
      ];

      schedules.sort((a, b) => {
        a = moment(today).diff(a.schedule, 'days');
        b = moment(today).diff(b.schedule, 'days');

        const [startDateA, endDateA] = getDates(a);
        const [startDateB, endDateB] = getDates(b);

        if (endDateA > now && endDateB > now) {
          return endDateA.diff(endDateB, 'days');
        } else if (endDateA < now && endDateB > now) {
          return 1;
        } else if (endDateA >= now && endDateB < now) {
          return -1;
        } else {
          return startDateB.diff(startDateA, 'days');
        }
      });

        if (a < 0) {  // ê¸°ì¤€ê°’ì´ ì•„ì§ ì§€ë‚˜ì§€ ì•Šì€ ë‚ ì§œì´ê³ ,
          if (b < 0) {  // ë¹„êµê°’ë„ ì•„ì§ ì§€ë‚˜ì§€ ì•Šì€ ë‚ ì§œì¼ ê²½ìš° ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
            return b - a;
          } else {  // ë¹„êµê°’ì´ ì§€ë‚œ ë‚ ì§œì¼ ê²½ìš°ì—ëŠ” ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
            return a - b;
          }
        } else {  // ê¸°ì¤€ê°’ê³¼ ë¹„êµê°’ì´ ëª¨ë‘ ì§€ë‚œ ë‚ ì§œì¼ ê²½ìš°ì—ëŠ” ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
          return a - b;
        }
        return 0
      })
      ```
      - `moment(ê¸°ì¤€ë‚ ì§œ).diff(ë¹„êµë‚ ì§œ, 'days')` ë¥¼ ì´ìš©í•˜ì—¬ ë‚ ì§œì˜ ì°¨ì´ë¥¼ ì¼ë‹¨ìœ„ë¡œ êµ¬í•  ìˆ˜ ìˆë‹¤.
      - ê²°ê³¼ê°’ì€ `new Date()`ë¥¼ ì‚¬ìš©í–ˆì„ë•Œì™€ ë™ì¼í•˜ë‹¤.

    ### í•˜ìœ„ ë°°ì—´ì— ì†í•´ìˆëŠ” ë‚ ì§œê°’ìœ¼ë¡œ ìƒìœ„ ë°ì´í„°ë¥¼ ì •ë ¬í•´ë³´ì.
      - ì‹¤ì œ ê°œë°œì„ í•˜ë‹¤ë³´ë©´ ë°ì´í„°ê°€ ì €ë ‡ê²Œ ê¹”ë”í•˜ê²Œ ë‚˜ì˜¤ì§€ ì•Šê³  ë‚ ì§œë¥¼ í’ˆê³  ìˆëŠ” ë°ì´í„°ë¥¼ ë‹¤ë¤„ì¤˜ì•¼í•  ì¼ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
      - ìœ„ ë‚ ì§œ ì •ë ¬ì„ ì‘ìš©í•´ì„œ í•˜ìœ„ë¡œ ì†í•´ìˆëŠ” ë‚ ì§œ ë°ì´í„° ê°’ìœ¼ë¡œ ìƒìœ„ ë°ì´í„°ì˜ ìˆœì„œë¥¼ ë³€ê²½í•´ë³´ë ¤ê³  í•œë‹¤.
      - ì¡°ê±´
        1. ë°ì´í„° ì† ë‚ ì§œ ë°°ì—´ì˜ ê°’ì„ ë¹„êµí•˜ì—¬ ì•„ì§ ì§€ë‚˜ì§€ ì•Šì€ ë‚ ì§œì˜ ë°ì´í„°ë¥¼ ì•ìœ¼ë¡œ, ì´ë¯¸ ì§€ë‚œ ë‚ ì§œì˜ ë°ì´í„°ë¥¼ ë’¤ë¡œ ë³´ë‚¸ë‹¤.
        2. ì•„ì§ ì§€ë‚˜ì§€ ì•Šì€ ë‚ ì§œëŠ” ì˜¤ëŠ˜ ë‚ ì§œì™€ ê°€ì¥ ê°€ê¹Œìš´ ë‚ ì§œë¥¼ ë°ì´í„°ì˜ ê°€ì¥ ì•ìœ¼ë¡œ ì˜¤ê²Œ í•œë‹¤.
        3. ì´ë¯¸ ì§€ë‚œ ë‚ ì§œëŠ” ì˜¤ëŠ˜ ë‚ ì§œì™€ ê°€ì¥ ê°€ê¹Œìš´ ë‚ ì§œë¥¼ ì´ë¯¸ ì§€ë‚œ ë‚ ì§œ ì¤‘ì—ì„œ ê°€ì¥ ì•ìœ¼ë¡œ ì˜¤ê²Œ í•œë‹¤.
        - ìœ„ ì˜ˆì‹œì—ì„œì˜ schedule ë°ì´í„°ê°€ `Data`ë¼ëŠ” ë°°ì—´ ì•ˆì— ê° ìš”ì†Œë¡œ ë“¤ì–´ê°€ìˆë‹¤ê³  ê°€ì •í•˜ì
          ```js
          const Data = [ 
            {
              id: 1,
              name: 'summer',
              schedule: [
                { id : 1, schedule : '2022-01-01T20:00:00.000Z' }, 
                { id : 2, schedule : '2022-01-21T20:00:00.000Z' },
                { id : 3, schedule : '2022-02-11T20:00:00.000Z' },
                { id : 4, schedule : '2022-03-03T20:00:00.000Z' }
              ]
            },
            {
              id: 2,
              name: 'winter',
              schedule: [
                { id : 1, schedule : '2022-03-01T13:00:00.000Z' }, 
                { id : 2, schedule : '2022-03-08T13:00:00.000Z' },
                { id : 3, schedule : '2022-03-15T13:00:00.000Z' },
                { id : 4, schedule : '2022-03-22T13:00:00.000Z' }
              ]
            },
            {
              id: 3,
              name: 'spring',
              schedule: [
                { id : 1, schedule : '2022-03-30T19:00:00.000Z' }, 
                { id : 2, schedule : '2022-04-30T19:00:00.000Z' },
                { id : 3, schedule : '2022-05-30T19:00:00.000Z' },
                { id : 4, schedule : '2022-06-30T19:00:00.000Z' }
              ]
            }
          ]
          ```
          
        - ì°¸ê³ : `moment.js`ë¥¼ ì‚¬ìš©í–ˆë‹¤.
          ```jsx
          let countDays;  // ì˜¤ëŠ˜ì„ ê¸°ì¤€ìœ¼ë¡œ ì°¨ì´ê°’ì„ ë‹´ì•„ì¤„ ë³€ìˆ˜
          const today = moment().format('YYYY-MM-DD HH:mm:ss');
          const changeTimeToNumber = (date) => {  // ì¼ì°¨ë¥¼ ìˆ«ìë¡œ ë³€í™˜í•´ì£¼ëŠ” í•¨ìˆ˜
            for (let day of date.schedule) {  // for ë¬¸ìœ¼ë¡œ ëª¨ë“  schedule ê°’ì„ ìˆ«ìë¡œ ë³€í™˜
              countDays = moment(today).diff(date.schedule, 'days');
              if (countDays < 0) { 
                break;
              }
            }
            return countDays;
          };

          Date.sort((a, b) => {
            const a = changeTimeToNumber(a); 
            const b = changeTimeToNumber(b);

            if (a < 0 && b < 0) return b - a;
            if (a > 0 && b > 0) return a - b;
            if (a > b) return b - a;
            if (a < b) return a - b;
            return 0;
          })
          ```
          - ì´ë ‡ê²Œ í•´ì„œ ë‚ ì§œê°€ ì›í•˜ëŠ”ëŒ€ë¡œ ì˜ ë‚˜ì˜¤ê¸´ í•œë‹¤.
          - í˜¹ì‹œ ë‚´ê°€ í‹€ë ¸ë‹¤ë©´ ì´ë©”ì¼ë¡œ ë‘¥ê¸€ê²Œ..ğŸ™


